<Window x:Class="ReKey.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ReKey" Height="460" Width="520" WindowStartupLocation="CenterScreen"
        Icon="Assets/ReKey.ico"
        KeyDown="Window_KeyDown">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" TextWrapping="Wrap" Margin="0,0,0,12"
                   Text="ReKey는 Windows Scancode Map으로 키를 영구 리매핑합니다. 관리자 권한과 재부팅이 필요합니다."/>

        <Grid Grid.Row="1" Margin="0,0,0,8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBlock VerticalAlignment="Center" Margin="0,0,8,0" Text="원본 키"/>
            <ComboBox x:Name="FromKeyCombo" Grid.Column="1" Margin="0,0,8,0"
                      DisplayMemberPath="DisplayName" IsEditable="True" IsReadOnly="True"
                      SelectionChanged="FromKeyCombo_SelectionChanged"/>
            <Button Grid.Column="2" Padding="12,4" Click="SelectFrom_Click" Content="캡처"/>
        </Grid>

        <Grid Grid.Row="2" Margin="0,0,0,8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBlock VerticalAlignment="Center" Margin="0,0,8,0" Text="대상 키"/>
            <ComboBox x:Name="ToKeyCombo" Grid.Column="1" Margin="0,0,8,0"
                      DisplayMemberPath="DisplayName" IsEditable="True" IsReadOnly="True"
                      SelectionChanged="ToKeyCombo_SelectionChanged"/>
            <Button Grid.Column="2" Padding="12,4" Click="SelectTo_Click" Content="캡처"/>
        </Grid>

        <StackPanel Grid.Row="3" Orientation="Horizontal" Margin="0,8,0,0">
            <Button Padding="16,6" Margin="0,0,8,0" Click="Apply_Click" Content="적용"/>
            <Button Padding="16,6" Margin="0,0,8,0" Click="Clear_Click" Content="초기화"/>
        </StackPanel>

        <StackPanel Grid.Row="4" Orientation="Horizontal" Margin="0,10,0,0">
            <Button x:Name="DiagToggleButton" Padding="12,4" Margin="0,0,8,0" Click="ToggleDiag_Click" Content="진단 시작"/>
            <TextBlock x:Name="DiagText" VerticalAlignment="Center" Text="진단: 꺼짐"/>
        </StackPanel>

        <GroupBox Grid.Row="5" Header="현재 설정" Margin="0,12,0,8">
            <DockPanel>
                <Button DockPanel.Dock="Top" Padding="12,4" Margin="0,0,0,6"
                        Click="DeleteMapping_Click" Content="선택 삭제"/>
                <ListView x:Name="MappingList">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="매핑" DisplayMemberBinding="{Binding MappingDisplay}" Width="430"/>
                        </GridView>
                    </ListView.View>
                </ListView>
            </DockPanel>
        </GroupBox>

        <TextBlock Grid.Row="6" x:Name="StatusText" TextWrapping="Wrap" Foreground="DarkSlateGray"/>
    </Grid>
</Window>
